---
phase: 06-smart-mcp-server-onboarding
plan: 03
type: execute
wave: 2
depends_on: [06-01]
files_modified: [README.md]
autonomous: true

must_haves:
  truths:
    - "New users see one-command setup as first step in README"
    - "Claude Desktop config is copy-paste ready with clear instructions"
    - "Troubleshooting section addresses common setup failures"
    - "Quick start section takes <2 minutes to execute"
  artifacts:
    - path: "README.md"
      provides: "Updated installation and quick start guide"
      contains: "Quick Start in 2 Minutes"
  key_links:
    - from: "README.md Quick Start"
      to: "kledo-mcp command"
      via: "One-command installation flow"
      pattern: "`kledo-mcp`"
    - from: "README.md Setup Troubleshooting"
      to: "CLI commands (--test, --show-config)"
      via: "Debugging helpers"
      pattern: "`kledo-mcp --test`"
---

<objective>
Transform README from complex multi-step manual to one-command quick start with troubleshooting support.

Purpose: Reduce time-to-first-success from 15+ minutes to <2 minutes for new users
Output: README with "Quick Start in 2 Minutes" section, copy-paste Claude config, and troubleshooting guide
</objective>

<execution_context>
@~/.claude/gsd-css/workflows/execute-plan.md
@~/.claude/gsd-css/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Current documentation
@README.md

# Prior work (for command reference)
@.planning/phases/06-smart-mcp-server-onboarding/06-01-SUMMARY.md
@src/setup.py
@src/cli.py
</context>

<tasks>

<task type="auto">
  <name>Add "Quick Start in 2 Minutes" section at top</name>
  <files>README.md</files>
  <action>
Insert new section AFTER the "Key Features" section (before "üì¶ Installation"):

```markdown
## üöÄ Quick Start in 2 Minutes

**First time setup:**

1. **Install the package:**
   ```bash
   git clone https://github.com/efacsen/kledo-api-mcp.git
   cd kledo-api-mcp
   pip install -e .
   ```

2. **Run the setup wizard:**
   ```bash
   kledo-mcp
   ```
   The interactive wizard will:
   - ‚úì Prompt for your Kledo API key
   - ‚úì Validate your connection
   - ‚úì Create your `.env` configuration
   - ‚úì Show you the Claude Desktop config to copy

3. **Copy the config to Claude Desktop:**
   - macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
   - Windows: `%APPDATA%\Claude\claude_desktop_config.json`
   - Linux: `~/.config/Claude/claude_desktop_config.json`

4. **Restart Claude Desktop** - Done! üéâ

**Every time after:**
```bash
kledo-mcp  # Just works - no setup needed
```

**Need help?** See [Troubleshooting](#-troubleshooting) below.
```

**Why this section:**
- Numbers create clear sequential flow
- Checkmarks show automatic steps (not user work)
- Time promise (2 minutes) sets expectations
- "Every time after" shows payoff
- Links to troubleshooting reduce anxiety
  </action>
  <verify>
1. Check markdown syntax: `python -c "import markdown; markdown.markdown(open('README.md').read())"`
2. Verify section ordering: Quick Start appears before detailed Installation
3. Check links: All internal links resolve
  </verify>
  <done>
- "Quick Start in 2 Minutes" section exists
- Section appears after Key Features, before Installation
- All 4 steps present and numbered
- Claude Desktop config paths included for all OS
- Link to Troubleshooting section works
  </done>
</task>

<task type="auto">
  <name>Update Installation section to emphasize wizard</name>
  <files>README.md</files>
  <action>
Rewrite the "üì¶ Installation" section (currently lines 90-173) to de-emphasize manual config:

```markdown
## üì¶ Installation

### Prerequisites

- Python 3.11 or higher
- Kledo account with API access
- Claude Desktop, or any AI IDE that supports MCP

### Standard Install

```bash
git clone https://github.com/efacsen/kledo-api-mcp.git
cd kledo-api-mcp
pip install -e .
```

**The `kledo-mcp` command is now available!**

### Getting Your Kledo API Key

1. Log in to your Kledo account at [https://kledo.com](https://kledo.com)
2. Navigate to **Settings** ‚Üí **Integration** ‚Üí **API**
3. Click **Generate New API Key**
4. Copy the key (it starts with `kledo_pat_`)

The setup wizard will prompt you for this key when you run `kledo-mcp` for the first time.

### Claude Desktop Configuration

The easiest way is to run the setup wizard:

```bash
kledo-mcp --show-config
```

This displays your Claude Desktop configuration with the correct paths. Just copy and paste!

**Manual Configuration (Advanced):**

If you prefer to configure manually, edit your Claude Desktop config file:

```json
{
  "mcpServers": {
    "kledo-crm": {
      "command": "kledo-mcp",
      "env": {
        "KLEDO_API_KEY": "your_api_key_here",
        "KLEDO_BASE_URL": "https://api.kledo.com/api/v1",
        "CACHE_ENABLED": "true",
        "LOG_LEVEL": "INFO"
      }
    }
  }
}
```

**Config file locations:**
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- Linux: `~/.config/Claude/claude_desktop_config.json`

**Security Note**: Never commit your API key to version control.
```

**Changes from current README:**
- Lead with simple install (remove .env.example mention)
- API key section stays (helpful)
- Add `--show-config` command as recommended approach
- Manual config marked "Advanced" (de-emphasized)
- Remove outdated manual .env editing steps
- Keep security note

**Why these changes:**
- Wizard is default, manual is fallback
- --show-config eliminates copy-paste errors
- Clear labeling (Advanced) signals complexity
  </action>
  <verify>
1. Check section exists and is properly formatted
2. Verify --show-config command mentioned
3. Confirm manual config marked as "Advanced"
4. Check all code blocks have proper syntax highlighting
  </verify>
  <done>
- Installation section updated
- API key instructions preserved
- --show-config command documented
- Manual config de-emphasized (marked Advanced)
- Security note retained
- All code blocks properly formatted
  </done>
</task>

<task type="auto">
  <name>Add Setup Troubleshooting section</name>
  <files>README.md</files>
  <action>
Update the existing "üêõ Troubleshooting" section (currently lines 311-369) by adding a new "Setup & First-Run Issues" subsection at the TOP:

```markdown
## üêõ Troubleshooting

### Setup & First-Run Issues

**Setup wizard won't start:**

```bash
# Verify installation
pip install -e .

# Try explicit setup
kledo-mcp --setup
```

**"Invalid API key" error:**

1. Verify your API key starts with `kledo_pat_`
2. Check for extra spaces when copying
3. Test the key directly:
   ```bash
   kledo-mcp --test
   ```
4. Generate a new key from Kledo dashboard if needed

**Configuration not saved:**

```bash
# Check .env was created
ls -la .env

# Force re-initialization
kledo-mcp --init
```

**"Connection failed" during setup:**

1. Verify your internet connection
2. Check Kledo API status: [https://status.kledo.com](https://status.kledo.com)
3. Test with curl:
   ```bash
   curl -H "Authorization: Bearer YOUR_API_KEY" \
        https://api.kledo.com/api/v1/finance/account
   ```

**Claude Desktop doesn't show the server:**

1. Run `kledo-mcp --show-config` and copy the output
2. Verify JSON syntax (use [jsonlint.com](https://jsonlint.com))
3. Check config file location:
   ```bash
   # macOS
   cat ~/Library/Application\ Support/Claude/claude_desktop_config.json

   # Linux
   cat ~/.config/Claude/claude_desktop_config.json
   ```
4. Restart Claude Desktop completely (quit and reopen)
5. Check Claude logs:
   ```bash
   # macOS
   tail -f ~/Library/Logs/Claude/mcp*.log
   ```

**Still stuck?**

Open an issue with:
- Output of `kledo-mcp --version`
- Output of `kledo-mcp --test`
- Any error messages from the setup wizard

---

### MCP Server Not Showing in Claude

[KEEP EXISTING CONTENT - lines 316-325]

### Authentication Errors

[KEEP EXISTING CONTENT - lines 327-343]

### Import Errors

[KEEP EXISTING CONTENT - lines 345-355]

### Cache Issues

[KEEP EXISTING CONTENT - lines 357-369]
```

**Why this structure:**
- Setup issues FIRST (new users hit these)
- Each issue has clear symptoms + solution
- Commands provided (not just prose)
- Escalation path ("Still stuck?")
- Existing sections preserved for reference
  </action>
  <verify>
1. Verify new subsection appears first in Troubleshooting
2. Check all bash commands have proper code blocks
3. Confirm links work (status.kledo.com, jsonlint.com)
4. Test markdown rendering
  </verify>
  <done>
- "Setup & First-Run Issues" subsection added
- Subsection appears first in Troubleshooting section
- 5 common issues documented with solutions
- All commands include working examples
- Links to external tools included
- Escalation path clear ("Still stuck?")
- Existing troubleshooting sections preserved
  </done>
</task>

</tasks>

<verification>
1. Quick Start section: Check it appears before Installation section
2. Installation section: Verify --show-config documented
3. Troubleshooting: Confirm Setup issues appear first
4. Markdown syntax: `python -c "import markdown; print('OK')"`
5. Links: All internal README links resolve
</verification>

<success_criteria>
- [ ] "Quick Start in 2 Minutes" section exists at top
- [ ] Installation section emphasizes wizard over manual config
- [ ] API key instructions preserved and clear
- [ ] --show-config command documented
- [ ] Setup troubleshooting covers 5+ common issues
- [ ] All bash commands tested and working
- [ ] Internal links all resolve correctly
- [ ] Markdown renders without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-smart-mcp-server-onboarding/06-03-SUMMARY.md`
</output>
